<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Assignment App with Timers</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <style>
        body {
            background: linear-gradient(120deg, #89f7fe 0%, #66a6ff 100%);
            font-family: Arial, sans-serif;
        }
        .overdue { color: red; font-weight: bold; }
        .glassmorphism {
            backdrop-filter: blur(10px);
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
    </style>
</head>
<body>
    <header class="bg-gradient-to-r from-blue-500 to-indigo-600 text-white p-4 text-center text-2xl">
        Grade 9 Tech Assignment Module
    </header>

    <main class="container mx-auto p-4">
        <section id="login-section" class="mb-6">
            <h2 class="text-2xl font-bold text-gray-800">Student Login</h2>
            <form id="login-form" class="mt-4 glassmorphism p-4">
                <input type="text" id="username" placeholder="Enter your name" class="p-2 w-full mb-4 border rounded" required>
                <input type="password" id="password" placeholder="Enter your password" class="p-2 w-full mb-4 border rounded" required>
                <button type="submit" class="bg-blue-600 text-white py-2 px-4 rounded">Login</button>
            </form>
            <p id="login-message" class="text-red-500 mt-2"></p>
        </section>

        <section id="assignments-section" class="hidden glassmorphism p-4">
            <h2 class="text-2xl font-bold text-gray-800">Welcome, <span id="username-display"></span>!</h2>
            <div id="assignment-list" class="mt-4"></div>
        </section>
    </main>

    <footer class="bg-gray-800 text-white text-center p-4 mt-6">
        &copy; 2025 Assignment App
    </footer>

    <script>
        document.addEventListener("DOMContentLoaded", () => {
            const loginForm = document.getElementById("login-form");
            const loginMessage = document.getElementById("login-message");
            const loginSection = document.getElementById("login-section");
            const assignmentsSection = document.getElementById("assignments-section");
            const usernameDisplay = document.getElementById("username-display");
            const assignmentList = document.getElementById("assignment-list");

            const questions = [
                "Research on Mordern day Cameras and the specifications.",
                "Compare Nikon and Camon with Cameras.",
                "Research the different resolution types.",
                "Describe the difference between High frames per second and low frames per second.",
                "Explore the role of Smartphones in Artifitial Inteligence.",
                "Identify five types of features in smartphones.",
                "Differentiate between desktop and laptops."
            ];

            let userName;
            const weekdays = ["Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"];
            const assignedDays = getRandomDays(3); // Get 3 random days of the week

            function getRandomDays(n) {
                const days = [];
                while (days.length < n) {
                    const randomDay = weekdays[Math.floor(Math.random() * weekdays.length)];
                    if (!days.includes(randomDay)) {
                        days.push(randomDay);
                    }
                }
                return days;
            }

            loginForm.addEventListener("submit", (e) => {
                e.preventDefault();
                const username = document.getElementById("username").value.trim();
                const password = document.getElementById("password").value.trim();

                if (password === "grade9") {
                    userName = username;
                    loginSection.classList.add("hidden");
                    assignmentsSection.classList.remove("hidden");
                    usernameDisplay.textContent = username;
                    setupAssignments();
                } else {
                    loginMessage.textContent = "Invalid login credentials.";
                }
            });

            function setupAssignments() {
                assignmentList.innerHTML = ""; // Clear any existing assignments
                assignedDays.forEach((day, idx) => {
                    const assignmentQuestions = getRandomQuestions(3);
                    const dueTime = getDueDate(day);

                    const assignmentDiv = document.createElement("div");
                    assignmentDiv.className = "assignment bg-white p-4 shadow rounded mb-4";

                    const dayHeader = document.createElement("h3");
                    dayHeader.className = "text-xl font-bold";
                    dayHeader.textContent = `${day} Assignments`;

                    const questionList = document.createElement("ul");
                    questionList.className = "list-disc ml-6";
                    assignmentQuestions.forEach((q) => {
                        const li = document.createElement("li");
                        li.textContent = q;
                        questionList.appendChild(li);
                    });

                    const timer = document.createElement("p");
                    timer.className = "text-gray-700 mt-2";
                    timer.id = `timer-${idx}`;

                    assignmentDiv.appendChild(dayHeader);
                    assignmentDiv.appendChild(questionList);
                    assignmentDiv.appendChild(timer);
                    assignmentList.appendChild(assignmentDiv);

                    updateTimer(day, dueTime, timer);
                    setInterval(() => updateTimer(day, dueTime, timer), 1000);
                });
            }

            function getRandomQuestions(n) {
                const shuffled = [...questions].sort(() => 0.5 - Math.random());
                return shuffled.slice(0, n);
            }
            function setupAssignments() {
    assignmentList.innerHTML = ""; // Clear any existing assignments
    const now = new Date();
    const currentDay = weekdays[now.getDay() - 1]; // Adjust for Sunday (0 index)
    
    assignedDays.forEach((day, idx) => {
        if (day === currentDay) {
            const assignmentQuestions = getRandomQuestions(3);
            const dueTime = getDueDate(day);

            const assignmentDiv = document.createElement("div");
            assignmentDiv.className = "assignment bg-white p-4 shadow rounded mb-4";

            const dayHeader = document.createElement("h3");
            dayHeader.className = "text-xl font-bold";
            dayHeader.textContent = `${day} Assignments`;

            const questionList = document.createElement("ul");
            questionList.className = "list-disc ml-6";
            assignmentQuestions.forEach((q) => {
                const li = document.createElement("li");
                li.textContent = q;
                questionList.appendChild(li);
            });

            const timer = document.createElement("p");
            timer.className = "text-gray-700 mt-2";
            timer.id = `timer-${idx}`;

            assignmentDiv.appendChild(dayHeader);
            assignmentDiv.appendChild(questionList);
            assignmentDiv.appendChild(timer);
            assignmentList.appendChild(assignmentDiv);

            updateTimer(day, dueTime, timer);
            setInterval(() => updateTimer(day, dueTime, timer), 1000);
        }
    });

    if (assignmentList.innerHTML === "") {
        const message = document.createElement("p");
        message.className = "text-center text-gray-700 font-bold";
        message.textContent = "No assignments available for today.";
        assignmentList.appendChild(message);
    }
}


            function getDueDate(day) {
                const now = new Date();
                const targetDayIndex = weekdays.indexOf(day);
                const currentDayIndex = now.getDay();
                let daysUntilDue = (targetDayIndex - currentDayIndex + 7) % 7;

                if (daysUntilDue === 0 && now.getHours() >= 23) {
                    daysUntilDue = 7; // Ensure the timer starts for next week's day
                }

                const dueDate = new Date(now);
                dueDate.setDate(now.getDate() + daysUntilDue);
                dueDate.setHours(23, 59, 59, 999); // Set to the end of the target day
                return dueDate;
            }

            function updateTimer(day, dueTime, timerElement) {
                const now = new Date();
                const timeLeft = dueTime - now;

                if (timeLeft <= 0) {
                    timerElement.textContent = "Overdue!";
                    timerElement.className = "overdue mt-2";
                } else {
                    const hours = Math.floor(timeLeft / (1000 * 60 * 60));
                    const minutes = Math.floor((timeLeft % (1000 * 60 * 60)) / (1000 * 60));
                    const seconds = Math.floor((timeLeft % (1000 * 60)) / 1000);
                    timerElement.textContent = `Time remaining: ${hours}h ${minutes}m ${seconds}s`;
                }
            }
        });
    </script>
</body>
</html>
